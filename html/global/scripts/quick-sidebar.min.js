var QuickSidebar=function(){var a=function(){$(".dropdown-quick-sidebar-toggler a, .page-quick-sidebar-toggler, .quick-sidebar-toggler").click(function(a){$("body").toggleClass("page-quick-sidebar-open")})},i=function(){var a=$(".page-quick-sidebar-wrapper"),i=a.find(".page-quick-sidebar-chat"),e=function(){var e,r=a.find(".page-quick-sidebar-chat-users");e=a.height()-a.find(".nav-tabs").outerHeight(!0),App.destroySlimScroll(r),r.attr("data-height",e),App.initSlimScroll(r);var t=i.find(".page-quick-sidebar-chat-user-messages"),s=e-i.find(".page-quick-sidebar-chat-user-form").outerHeight(!0);s-=i.find(".page-quick-sidebar-nav").outerHeight(!0),App.destroySlimScroll(t),t.attr("data-height",s),App.initSlimScroll(t)};e(),App.addResizeHandler(e);var r=function(a){a.preventDefault();var e=i.find(".page-quick-sidebar-chat-user-messages"),r=i.find(".page-quick-sidebar-chat-user-form .form-control"),t=r.val();if(0!==t.length){var s=function(a,i,e,r,t){var s="";return s+='<div class="post '+a+'">',s+='<img class="avatar" alt="" src="'+Layout.getLayoutImgPath()+r+'.jpg"/>',s+='<div class="message">',s+='<span class="arrow"></span>',s+='<a href="#" class="name">Bob Nilson</a>&nbsp;',s+='<span class="datetime">'+i+"</span>",s+='<span class="body">',s+=t,s+="</span>",s+="</div>",s+="</div>"},n=new Date,o=s("out",n.getHours()+":"+n.getMinutes(),"Bob Nilson","avatar3",t);o=$(o),e.append(o),e.slimScroll({scrollTo:"1000000px"}),r.val(""),setTimeout(function(){var a=new Date,i=s("in",a.getHours()+":"+a.getMinutes(),"Ella Wong","avatar2","Lorem ipsum doloriam nibh...");i=$(i),e.append(i),e.slimScroll({scrollTo:"1000000px"})},3e3)}};i.find(".page-quick-sidebar-chat-user-form .btn").click(r),i.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(a){if(13==a.which)return r(a),!1})},e=function(){var a=$(".page-quick-sidebar-wrapper"),i=(a.find(".page-quick-sidebar-alerts"),function(){var i,e=a.find(".page-quick-sidebar-alerts-list");i=a.height()-a.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(e),e.attr("data-height",i),App.initSlimScroll(e)});i(),App.addResizeHandler(i)},r=function(){var a=$(".page-quick-sidebar-wrapper"),i=(a.find(".page-quick-sidebar-settings"),function(){var i,e=a.find(".page-quick-sidebar-settings-list");i=a.height()-a.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(e),e.attr("data-height",i),App.initSlimScroll(e)});i(),App.addResizeHandler(i)};return{init:function(){a(),i(),e(),r()}}}();App.isAngularJsApp()===!1&&jQuery(document).ready(function(){QuickSidebar.init()});