<!-- BEGIN PAGE HEADER-->
<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <a href="#/dashboard.html">Home</a>
            <i class="fa fa-circle"></i>
        </li>
        <li>
            <a href="#/apps">Apps</a>
        </li>
        <li>
            <a href="#/apps/manager">Manager</a>
        </li>
    </ul>
    <div landing-start-menu></div>
</div>
<h3 class="page-title"> Application Managmenet
    <small>Manage your private collection of apps</small>
</h3>
<!-- END PAGE HEADER-->
<!-- BEGIN MAIN CONTENT -->
<div class="row">
    <div class="col-md-12">
        <!-- Begin: life time stats -->
        <div class="portlet light portlet-fit portlet-datatable bordered">
            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-code"></i> Application Management </div>
                <div class="actions">
                    <a href="#" class="btn btn-outline green" data-target="#add-edit-modal" role="button" data-toggle="modal">
                        <i class="fa fa-plus"></i>
                        <span class="hidden-480"> New App </span>
                    </a>
                    <div class="btn-group">
                        <a class="btn red btn-outline" href="#" data-toggle="dropdown">
                            <i class="fa fa-share"></i>
                            <span class="hidden-480"> Actions </span>
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu pull-right">
                            <li>
                                <a href="#"> Clone </a>
                            </li>
                            <li>
                                <a href="#"> Enable </a>
                            </li>
                            <li>
                                <a href="#"> Disable </a>
                            </li>
                            <li>
                                <a href="#"> Delete </a>
                            </li>
                            <li class="divider"> </li>
                            <li>
                                <a href="#"> Publish </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="portlet-body">
                <div class="table-container">
                    <table class="table table-striped table-bordered table-hover management" width="100%" id="datatable_collection">
                        <thead>
                            <tr role="row" class="heading">
                                <th width="2%">
                                    <input type="checkbox" class="group-checkable"> </th>
                                <th data-class-name="extended"> ID</th>
                                <th> Name</th>
                                <th data-class-name="extended"> Created</th>
                                <th> Version</th>
                                <th> Label</th>
                                <th> Short Description</th>
                                <th> Exe. System</th>
                                <th> Public</th>
                                <th> Revision</th>
                                <th data-class-name="extended"> Long Description</th>
                                <th data-class-name="extended"> UUID </th>
                                <th data-class-name="extended"> Test Path</th>
                                <th data-class-name="extended"> Modules</th>
                                <th data-class-name="extended"> Ontology</th>
                                <th data-class-name="extended"> Icon</th>
                                <th data-class-name="extended"> Exe. Type</th>
                                <th data-class-name="extended"> Deployment System</th>
                                <th data-class-name="extended"> Deployment Path</th>
                                <th data-class-name="extended"> Default Queue</th>
                                <th data-class-name="extended"> Default PPN</th>
                                <th data-class-name="extended"> Default Nodes</th>
                                <th data-class-name="extended"> Default Memory</th>
                                <th data-class-name="extended"> Default RunTime</th>
                                <th data-class-name="extended"> Checkpointable</th>
                                <th data-class-name="extended"> Available</th>
                                <th data-class-name="extended"> Inputs</th>
                                <th data-class-name="extended"> Outputs</th>
                                <th data-class-name="extended"> Parameters</th>
                                <th> Last Modified</th>
                                <th> Actions </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="app in apps">
                                <td>
                                    <div class="checker">
                                        <span>
                                            <input type="checkbox" name="id[]" value="{{app.id}}">
                                        </span>
                                    </div>
                                </td>
                                <td>
                                    <a ui-sref="apps-edit({appId: app.id})"> {{app.id}} </a>
                                </td>
                                <td>
                                    <a ui-sref="apps-edit({appId: app.id})"> {{app.name}} </a>
                                </td>
                                <td data-class-name="extended">
                                    <span class="date">{{ app.created | amDateFormat:'dddd, MMMM Do YYYY' }}</span>
                                </td>
                                <td>
                                    {{app.version}}
                                </td>
                                <td>
                                    {{app.label}}
                                </td>
                                <td>
                                    {{app.shortDescription}}
                                </td>
                                <td>
                                    <a ui-sref="system-browse({systemId: app.executionSystem})">{{ getSystemName(app.executionSystem) }}</a>
                                </td>
                                <td>
                                    {{app.isPublic}}
                                </td>
                                <td>
                                    {{app.revision}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.longDescription}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.uuid}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.testPath}}
                                </td>
                                <td data-class-name="extended">
                                    <ul>
                                        <li ng-repeat="moduleName in app.modules">
                                            <span>{{moduleName}} </span>
                                        </li>
                                    </ul>
                                </td>
                                <td data-class-name="extended">
                                    <ul>
                                        <li ng-repeat="ont in app.ontology">
                                            <span>{{ont}} </span>
                                        </li>
                                    </ul>
                                </td>
                                <td data-class-name="extended">
                                    <a ng-if="app.icon" ui-sref="{{app.icon}}">
                                        <img ng-src="{{app.icon}}" class="thumbnail">
                                    </a>
                                    <img ng-if="!app.icon" src="../bower_components/holderjs/holder.js/100%x100" alt="100%x100" style="height: 100px; width: 100%; display: block;">
                                </td>
                                <td data-class-name="extended">
                                    {{app.executionType}}
                                </td>
                                <td data-class-name="extended">
                                    <a ui-sref="system-browse({systemId: app.storageSystem})">{{ systemName(app.deploymentSystem) }}</a>
                                </td>
                                <td data-class-name="extended">
                                    {{app.deploymentPath}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.defaultQueue}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.defaultProcessorsPerNode}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.defaultNodeCount}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.defaultMemoryPerNode}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.defaultMaxRunTime}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.checkpointable}}
                                </td>
                                <td data-class-name="extended">
                                    {{app.available}}
                                </td>
                                <td data-class-name="extended">
                                    <ul>
                                        <li ng-repeat="inp in app.inputs">
                                            <span title="{{inp.label}}">{{inp.id}}</span>
                                        </li>
                                    </ul>
                                </td>
                                <td data-class-name="extended">
                                    <ul>
                                        <li ng-repeat="out in app.outputs">
                                            <span title="{{out.label}}">{{out.id}}</span>
                                        </li>
                                    </ul>
                                </td>
                                <td data-class-name="extended">
                                    <ul>
                                        <li ng-repeat="param in app.parameters">
                                            <span title="{{param.label}}">{{param.id}}</span>
                                        </li>
                                    </ul>
                                </td>
                                <td>
                                    <span am-time-ago="app.lastModified" class="date"></span>
                                </td>
                                <td>
                                    <div class="btn-group">
                                        <a class="btn red btn-outline" href="#" data-toggle="dropdown">
                                            Actions
                                            <i class="fa fa-angle-down"></i>
                                        </a>
                                        <ul class="dropdown-menu pull-right">
                                            <li ng-if="!app.available">
                                                <a href="#" data-target="#enable-modal" role="button" data-toggle="modal"> <i class="fa fa-check"></i> Enable </a>
                                            </li>
                                            <li ng-if="app.available">
                                                <a href="#" data-target="#disable-modal" role="button" data-toggle="modal"> <i class="fa fa-remove"></i> Disable </a>
                                            </li>
                                            <li>
                                                <a href="#" data-target="#delete-modal" role="button" data-toggle="modal"> <i class="fa fa-trash-o"></i> Delete </a>
                                            </li>
                                            <li class="divider"> </li>
                                            <li>
                                                <a href="#" data-target="#clone-modal" role="button" data-toggle="modal"> <i class="fa fa-code-fork"></i> Clone </a>
                                            </li>
                                            <li>
                                                <a href="#" data-target="#publish-modal" role="button" data-toggle="modal"> <i class="fa fa-eye"></i> Publish </a>
                                            </li>
                                            <li>
                                                <a href="#" data-target="#share-modal" role="button" data-toggle="modal"> <i class="fa fa-share-alt"></i> Share </a>
                                            </li>
                                        </ul>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- End: life time stats -->
    </div>
</div>
<!-- END MAIN CONTENT -->
